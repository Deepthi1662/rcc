@Repository
public interface LiabilitiesRepository extends JpaRepository<CaDetails, String> {

    @Query("SELECT new com.kotak.reliability.entity.LiabilitiesDTO( " +
            "  (SELECT ca FROM CaDetails ca WHERE ca.crn = :crn), " +
            "  (SELECT sa FROM SaDetails sa WHERE sa.crn = :crn)) " +
            "FROM Dual")
    Optional<LiabilitiesDTO> findLiabilitiesDataByCrn(@Param("crn") String crn);
}
