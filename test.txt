public interface CustomerProfileRepository extends CrudRepository<CADetails, String> {

    @Query("SELECT new com.yourpackage.dto.CustomerDetailsDTO(ca, sa) " +
           "FROM CADetails ca JOIN SaDetails sa ON ca.crn = sa.crn " +
           "WHERE ca.crn = :crn")
    List<CustomerDetailsDTO> findCustomerDetailsByCrn(@Param("crn") String crn);
}
